@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply bg-white text-gray-900;
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }
  
  * {
    @apply border-gray-200;
  }
  
  /* Mobile-specific styles */
  @media (max-width: 640px) {
    body {
      font-size: 14px;
    }
    
    /* Prevent zoom on input focus */
    input, textarea, select {
      font-size: 16px;
    }
  }
}

@layer components {
  /* GPT-style shimmer animations */
  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
  
  @keyframes progress {
    0% {
      width: 0%;
    }
    50% {
      width: 70%;
    }
    100% {
      width: 100%;
    }
  }

  /* Modern thinking indicator animations */
  @keyframes thinking-pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  @keyframes thinking-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
    }
  }

  @keyframes thinking-bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-4px);
    }
    60% {
      transform: translateY(-2px);
    }
  }

  @keyframes thinking-gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  /* Custom animation classes */
  .animate-thinking-pulse {
    animation: thinking-pulse 2s ease-in-out infinite;
  }

  .animate-thinking-glow {
    animation: thinking-glow 2s ease-in-out infinite;
  }

  .animate-thinking-bounce {
    animation: thinking-bounce 1.5s ease-in-out infinite;
  }

  .animate-thinking-gradient {
    animation: thinking-gradient 3s ease-in-out infinite;
  }
  
  .btn-primary {
    @apply bg-gray-900 hover:bg-gray-800 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 inline-flex items-center justify-center;
    /* Mobile touch targets */
    min-height: 44px;
  }
  
  .btn-secondary {
    @apply bg-white hover:bg-gray-50 text-gray-900 font-medium py-2 px-4 rounded-lg border border-gray-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 inline-flex items-center justify-center;
  }
  
  .btn-ghost {
    @apply text-gray-600 hover:text-gray-900 hover:bg-gray-100 font-medium py-2 px-4 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 inline-flex items-center justify-center;
  }
  
  .input-field {
    @apply w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all duration-200 bg-white text-gray-900 placeholder-gray-500;
    /* Mobile touch targets */
    min-height: 44px;
  }
  
  select.input-field {
    @apply pr-10;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
  }
  
  .card {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 p-6;
  }
  
  .sidebar-item {
    @apply flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 cursor-pointer;
  }
  
  .sidebar-item.active {
    @apply bg-white text-gray-900 border border-gray-200;
  }
  
  .chat-message {
    @apply max-w-2xl;
  }
  
  .chat-message.user {
    @apply ml-auto;
  }
  
  /* Mobile responsive utilities */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Prevent text selection on mobile for better UX */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Mobile-friendly modal */
  @media (max-width: 640px) {
    .modal-mobile {
      margin: 0;
      border-radius: 0;
      max-height: 100vh;
    }
    
    /* Mobile chat optimizations */
    .chat-message {
      max-width: 100%;
    }
    
    /* Mobile script viewer */
    .script-viewer {
      font-size: 14px;
      line-height: 1.4;
    }
    
    /* Mobile episode selector */
    .episode-selector {
      max-height: 200px;
    }
  }
  
  /* Hide scrollbar for carousel */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar { 
    display: none;  /* Safari and Chrome */
  }
  
  /* Mobile-specific improvements */
  @media (max-width: 768px) {
    /* Better touch targets */
    button, .sidebar-item {
      min-height: 44px;
    }
    
    /* Improved spacing */
    .mobile-padding {
      padding: 1rem;
    }
    
    /* Better text sizing */
    .mobile-text {
      font-size: 14px;
    }
    
    /* Mobile-friendly scrollbars */
    .mobile-scroll {
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
    }
    
    .mobile-scroll::-webkit-scrollbar {
      width: 4px;
    }
    
    .mobile-scroll::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .mobile-scroll::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 2px;
    }
  }

  /* Mobile-first responsive design for screens < 500px */
  @media (max-width: 499px) {
    /* Mobile header optimizations */
    .mobile-header {
      padding: 0.75rem 1rem;
    }
    
    /* Mobile sidebar overlay */
    .mobile-sidebar-overlay {
      backdrop-filter: blur(4px);
    }
    
    /* Mobile episode list items */
    .mobile-episode-item {
      padding: 0.875rem 0.75rem;
      border-radius: 0.75rem;
    }
    
    /* Mobile action buttons */
    .mobile-action-btn {
      padding: 0.625rem 0.5rem;
      font-size: 0.75rem;
      border-radius: 0.5rem;
    }
    
    /* Mobile project info */
    .mobile-project-info {
      padding: 0.75rem;
      border-radius: 0.5rem;
    }
    
    /* Mobile modal adjustments */
    .modal-mobile {
      margin: 0.5rem;
      max-height: calc(100vh - 1rem);
    .mobile-px {
      @apply px-4 sm:px-6;
    }
    
    .mobile-py {
      @apply py-3 sm:py-4;
    }
    
    /* Mobile text sizing */
    .mobile-text-sm {
      @apply text-sm sm:text-base;
    }
    
    .mobile-text-lg {
      @apply text-lg sm:text-xl;
    }
    
    /* Mobile visibility utilities */
    .mobile-only {
      @apply block sm:hidden;
    }
    
    .desktop-only {
      @apply hidden sm:block;
    }
  }

  /* Mobile-specific CSS classes */
  .mobile-header {
    @apply bg-white border-b border-gray-200 p-4 sticky top-0 z-20;
  }
  
  .mobile-sidebar-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-30;
  }
  
  .mobile-episode-item {
    @apply flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 cursor-pointer;
  }
  
  .mobile-episode-item.active {
    @apply bg-white text-gray-900 border border-gray-200;
  }
  
  .mobile-action-btn {
    @apply group flex items-center justify-center space-x-1.5 text-xs font-medium text-gray-700 hover:text-blue-700 bg-white hover:bg-blue-50 border border-gray-200 hover:border-blue-300 rounded-lg px-2.5 py-2 transition-all duration-200 shadow-sm hover:shadow-md;
  }
  
  .mobile-project-info {
    @apply mt-2 space-y-2 max-h-96 overflow-y-auto pr-2;
  }
  
  .mobile-chat {
    @apply flex-1 flex flex-col;
  }
  
  .mobile-title {
    @apply text-lg font-semibold text-gray-900 truncate;
  }
  
  .mobile-subtitle {
    @apply text-sm text-gray-500 truncate mt-0.5;
  }
  
    /* Mobile mode buttons */
  .mobile-mode-buttons {
      gap: 0.5rem;
      overflow-x: auto;
      padding-bottom: 0.25rem;
  }
  
  .mobile-mode-button {
    @apply flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors;
  }
  
  .mobile-send-button {
    @apply btn-primary p-2;
  }
}
